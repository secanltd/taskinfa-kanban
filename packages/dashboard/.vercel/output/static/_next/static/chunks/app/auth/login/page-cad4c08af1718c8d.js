(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{908:(e,s,a)=>{"use strict";a.d(s,{default:()=>n});var r=a(4568),t=a(7620),l=a(2942),o=a(7261),d=a.n(o);function n(){let e=(0,l.useRouter)(),[s,a]=(0,t.useState)({email:"",password:""}),[o,n]=(0,t.useState)({}),[i,m]=(0,t.useState)(!1),c=async a=>{if(a.preventDefault(),n({}),(()=>{let e={};return s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(e.email="Invalid email format"):e.email="Email is required",s.password||(e.password="Password is required"),n(e),0===Object.keys(e).length})()){m(!0);try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();if(!a.ok)return void n({general:r.error||"Login failed"});e.push("/dashboard"),e.refresh()}catch(e){n({general:"An error occurred. Please try again."})}finally{m(!1)}}};return(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg px-8 py-10",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Log in to Taskinfa"}),o.general&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:o.general})}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",autoComplete:"email",value:s.email,onChange:e=>a({...s,email:e.target.value}),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(o.email?"border-red-300":"border-gray-300"),placeholder:"you@example.com"}),o.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",autoComplete:"current-password",value:s.password,onChange:e=>a({...s,password:e.target.value}),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(o.password?"border-red-300":"border-gray-300"),placeholder:"Enter your password"}),o.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.password})]}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(i?"opacity-50 cursor-not-allowed":""),children:i?"Logging in...":"Log in"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(d(),{href:"/auth/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})})}},7795:(e,s,a)=>{Promise.resolve().then(a.bind(a,908))}},e=>{e.O(0,[72,587,902,358],()=>e(e.s=7795)),_N_E=e.O()}]);